{"version":3,"sources":["components/Die.js","components/Timer.js","components/RecordTime.js","components/LapTime.js","App.js","index.js"],"names":["Pip","className","Die","props","styles","backgroundColor","isHeld","pips","Array","value","keys","map","_","i","style","onClick","holdDice","Timer","Math","floor","time","slice","RecordTime","bestTime","LapTime","tenzies","diff","color","plusOrMinus","difference","abs","App","React","useState","allNewDice","dice","setDice","count","setCount","setTenzies","useEffect","allHeld","every","die","firstValue","allSameValue","setStart","setTime","start","interval","setInterval","prevTime","clearInterval","recordTime","JSON","parse","localStorage","getItem","setBestTime","setDiff","generateNewDie","ceil","random","id","nanoid","newDice","push","setItem","diceElements","oldDice","oldCount","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6f91829d.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Pip() {\n  return <span className=\"pip\" />;\n}\n\nexport default function Die(props) {\n  const styles = {\n    backgroundColor: props.isHeld ? \"#59E391\" : \"#f5f5f5fc\",\n  };\n\n  let pips = [...Array(props.value).keys()].map((_, i) => <Pip key={i} />);\n\n  return (\n    <div className=\"die-face\" style={styles} onClick={props.holdDice}>\n      {pips}\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function Timer(props) {\n  return (\n    <p className=\"stopwatch\">\n      Timer:\n      <span className=\"digits minutes\">\n        {(\"0\" + Math.floor((props.time / 60000) % 60)).slice(-2)}:\n      </span>\n      <span className=\"digits seconds\">\n        {(\"0\" + Math.floor((props.time / 1000) % 60)).slice(-2)}.\n      </span>\n      <span className=\"digits mili-sec\">\n        {(\"0\" + ((props.time / 10) % 100)).slice(-2)}\n      </span>\n    </p>\n  );\n}\n","import React from \"react\";\n\nexport default function RecordTime(props) {\n  return (\n    <p className=\"record-time\">\n      Fastest time:\n      <span className=\"digits minutes\">\n        {(\"0\" + Math.floor((props.bestTime / 60000) % 60)).slice(-2)}:\n      </span>\n      <span className=\"digits seconds\">\n        {(\"0\" + Math.floor((props.bestTime / 1000) % 60)).slice(-2)}.\n      </span>\n      <span className=\"digits mili-sec\">\n        {(\"0\" + ((props.bestTime / 10) % 100)).slice(-2)}\n      </span>\n    </p>\n  );\n}\n","import React from \"react\";\n\nexport default function LapTime({ time, tenzies, diff }) {\n  if (!tenzies) {\n    return null;\n  }\n\n  const color = {\n    color: time < diff ? \"green\" : \"red\",\n  };\n\n  const plusOrMinus = time < diff ? \"+\" : \"-\";\n  let difference = Math.abs(diff - time);\n\n  return (\n    <>\n      <span style={color}>\n        <span className=\"digits seconds laptime\">\n          {plusOrMinus}\n          {(\"0\" + Math.floor((difference / 1000) % 60)).slice(-2)}.\n        </span>\n        <span className=\"digits mili-sec\">\n          {(\"0\" + ((diff / 10) % 100)).slice(-2)}\n        </span>\n      </span>\n    </>\n  );\n}\n","import React from \"react\";\nimport Die from \"./components/Die\";\nimport { nanoid } from \"nanoid\";\nimport Confetti from \"react-confetti\";\nimport Timer from \"./components/Timer\";\nimport RecordTime from \"./components/RecordTime\";\nimport LapTime from \"./components/LapTime\";\n\nexport default function App() {\n  const [dice, setDice] = React.useState(allNewDice());\n\n  //Track number of dice rolls\n  const [count, setCount] = React.useState(0);\n\n  //Check if the game was been completed/won\n  const [tenzies, setTenzies] = React.useState(false);\n  //Check if the player has won the game\n  React.useEffect(() => {\n    const allHeld = dice.every((die) => die.isHeld);\n    const firstValue = dice[0].value;\n    const allSameValue = dice.every((die) => die.value === firstValue);\n    if (allHeld && allSameValue) {\n      setTenzies(true);\n      setStart(false);\n    }\n  }, [dice]);\n\n  //State for the stopwatch\n  const [time, setTime] = React.useState(0);\n  const [start, setStart] = React.useState(false);\n  //Start the stopwatch\n  React.useEffect(() => {\n    let interval = null;\n    if (start && !tenzies) {\n      interval = setInterval(() => {\n        setTime((prevTime) => prevTime + 10);\n      }, 10);\n    } else {\n      clearInterval(interval);\n    }\n    return () => {\n      clearInterval(interval);\n    };\n  }, [start, tenzies]);\n\n  const recordTime = JSON.parse(localStorage.getItem(\"bestTime\"));\n  const [bestTime, setBestTime] = React.useState(recordTime || null);\n  const [diff, setDiff] = React.useState(recordTime);\n  //Save record time to localStorage and save to state\n  React.useEffect(() => {\n    let recordTime = JSON.parse(localStorage.getItem(\"bestTime\"));\n    if (tenzies && !start && (bestTime === null || time < recordTime)) {\n      setDiff(recordTime);\n      localStorage.setItem(\"bestTime\", time);\n      setBestTime(time);\n    } else if (tenzies && !start && time > recordTime) {\n      setDiff(bestTime);\n    }\n  }, [tenzies, start, time, bestTime]);\n\n  function generateNewDie() {\n    return {\n      value: Math.ceil(Math.random() * 6),\n      isHeld: false,\n      id: nanoid(),\n    };\n  }\n\n  function allNewDice() {\n    const newDice = [];\n    for (let i = 0; i < 10; i++) {\n      newDice.push(generateNewDie());\n    }\n    return newDice;\n  }\n\n  function rollDice() {\n    if (!tenzies) {\n      setCount((oldCount) => oldCount + 1);\n      setStart(true);\n      setDice((oldDice) =>\n        oldDice.map((die) => {\n          return die.isHeld ? die : generateNewDie();\n        })\n      );\n    } else {\n      setTenzies(false);\n      setCount(0);\n      setTime(0);\n      setDice(allNewDice());\n    }\n  }\n\n  function holdDice(id) {\n    if (!tenzies) {\n      setStart(true);\n    }\n    setDice((oldDice) =>\n      oldDice.map((die) => {\n        return die.id === id ? { ...die, isHeld: !die.isHeld } : die;\n      })\n    );\n  }\n\n  const diceElements = dice.map((die) => (\n    <Die\n      key={die.id}\n      value={die.value}\n      isHeld={die.isHeld}\n      holdDice={() => holdDice(die.id)}\n    />\n  ));\n\n  return (\n    <main>\n      {tenzies && <Confetti />}\n      <h1 className=\"title\">Tenzies</h1>\n      <p className=\"instructions\">\n        Roll until all dice are the same. Click each dice to freeze it at its\n        current value.\n      </p>\n      <div className=\"dice-container\">{diceElements}</div>\n      <button className=\"roll-dice\" onClick={rollDice}>\n        {tenzies ? \"New Game\" : \"Roll\"}\n      </button>\n      <div className=\"timers-container\">\n        <p className=\"roll-counter\">Dice roll count: {count}</p>\n        <Timer time={time} />\n        <RecordTime bestTime={bestTime} time={time} />\n        {diff !== null && <LapTime time={time} tenzies={tenzies} diff={diff} />}\n      </div>\n    </main>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}